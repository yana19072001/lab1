def encrypt_mes(mes, e, N):
    encr_mes = ""
    for letter in mes:
        m = ord(letter)
        c = mod_pow(m, e, N)
        encr_mes += str(c) + " "
    return encr_mes

def decrypt_mes(encrypted_mes, d, N):
    decrypt_mes = ""
    tokens = encrypted_mes.split()
    for token in tokens:
        c = int(token)
        m = mod_pow(c, d, N)
        decrypt_mes += chr(m)
    return decrypt_mes

def main():
    x = 61
    y = 53
    N = x * y
    PHI = (x - 1) * (y - 1)
    e = 17
    d = 1

    while (d * e) % PHI != 1:
        d += 1

    mess = input("Введите фразу:\n")

    encr_mess = encrypt_mes(mess, e, N)
    decrypt_mess = decrypt_mes(encr_mess, d, N)

    print("Начальная фраза:", mess)
    print("Зашифрованная фраза:", encr_mess)
    print("Дешифрованная фраза:", decrypt_mess)

# Вызовем функцию main() при выполнении скрипта
main()
